<!DOCTYPE HTML>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>daixy</title>
<style type="text/css">
html, body, div, span, 
h1, h2, h3, h4, h5, h6, p, pre,
a, del, img, dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, tbody, thead, tr, th, td {
  margin: 0;
  padding: 0;
  border: 0;
  outline: 0;
  font-size: 100%;
  vertical-align: baseline;
  background: transparent;
}
body {
  line-height: 1;
}
#container {
  width: 100%;
  height: 100%;
  margin-top: 60px;
  text-align: center;
}
#canvas {
  position: fixed;
  top:0;
  left: 0;
  z-index: 5;
}
</style>
</head>
<body>
<div id="container">
  <img id="logo" src="img/logo.png" alt="Logo" />
</div>
<canvas id="canvas" width="1600" height="1024"></canvas>
<script> 
(function(){
    // Canvas
    var canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d');
    // flag
    var isDrawing = false;
    // Brush
    context.lineWidth = 3;
    context.lineCap = 'round';
    //context.fillStyle = 'black';
    //context.strokeStyle = 'black';
    canvas.addEventListener('mousemove', function(event){
        event.preventDefault();
        var out = document.getElementById('out');
        var p = getMousePosition(event);
        out.value = "x:" + p.x + " y:" + p.y;
    });
    canvas.addEventListener('mousedown', function(event){
        event.preventDefault();
        isDrawing = true;
        var color = Math.floor(Math.random() * 0xFFFFFF).toString(16);
        for(count = color.length; count < 6; count++){
          color = "0" + color;
        }
        context.fillStyle = color;
        context.strokeStyle = color;
        var p = getMousePosition(event);
        context.beginPath();
        context.arc(p.x, p.y, context.lineWidth / 2, 0, Math.PI * 2, true);
        context.fill();
        context.beginPath();
        context.moveTo(p.x, p.y);
    });
    canvas.addEventListener('mousemove', function(event){
        event.preventDefault();
        if(isDrawing){
            draw(event, context);
        }
    });
    canvas.addEventListener('mouseup', function(event){
        event.preventDefault();
        if(isDrawing){
            draw(event, context);
            isDrawing = false;
        }
    });
    canvas.addEventListener('mouseout', function(event){
        event.preventDefault();
        if(isDrawing){
            draw(event, context); 
            isDrawing = false;
        }
    });
       function getMousePosition(event){
        var rect = event.target.getBoundingClientRect();
        return {
            x: event.clientX - rect.left,
            y: event.clientY - rect.top
        };
    }
    function draw(event, context){
        var p = getMousePosition(event);
        context.lineTo(p.x, p.y);
        context.stroke();
        context.beginPath();
        context.moveTo(p.x, p.y);
    }
})();
</script>
</body>
</html>
